<div class='hgroup'>
  <h1>Registieren</h1>
  <h3>ADFC Tempo 30 vor sozialen Einrichtungen</h3>
</div>
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <mat-form-field class="t30-half-width">
        <input matInput placeholder="Vorname" formControlName="vorname" autocomplete="given-name" required>
        <mat-error class="error-message" *ngIf="checkValidateError('vorname', 'required')">Vorname erforderlich</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-half-width">
        <input matInput placeholder="Nachname" formControlName="nachname" autocomplete="family-name" required>
        <mat-error class="error-message" *ngIf="checkValidateError('nachname', 'required')">Nachname erforderlich</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-full-width">
        <input matInput placeholder="E-Mail" type="email" formControlName="email" autocomplete="email" required>
        <mat-error class="error-message" *ngIf="checkValidateError('email', 'required')">E-Mail erforderlich</mat-error>
        <mat-error class="error-message" *ngIf="checkValidateError('email', 'email')">ungültige E-Mail</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-full-width">
        <input matInput placeholder="Passwort" type="password" formControlName="passwort1" required>
        <mat-error class="error-message" *ngIf="checkValidateError('passwort1', 'required')">Passwort erforderlich</mat-error>
        <mat-error class="error-message" *ngIf="checkValidateError('passwort1', 'minlength')">Passwort zu kurz</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-full-width">
        <input matInput placeholder="Passdwort wiederholen" type="password" formControlName="passwort2" required>
        <mat-error class="error-message"  *ngIf="checkValidateError('passwort2', 'notMatched')"><mat-icon>warning</mat-icon>Passwörter sind nicht identisch.</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-full-width">
        <input matInput placeholder="Straße und Hausnummer" formControlName="strasse" autocomplete="street-address">
        <mat-error class="error-message" *ngIf="checkValidateError('strasse', 'minlength')">zu kurz</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-half-width">
        <input matInput placeholder="PLZ" formControlName="plz" autocomplete="postal-code">
        <mat-error class="error-message" *ngIf="checkValidateError('plz', 'pattern')">PLZ besteht aus 5 Ziffern</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-half-width">
        <input matInput placeholder="Ort" formControlName="ort" autocomplete="address-level1">
        <mat-error class="error-message" *ngIf="checkValidateError('ort', 'minlength')">zu kurz</mat-error>
      </mat-form-field>
      <mat-form-field class="t30-full-width">
        <input matInput placeholder="Telefon" formControlName="telefon" autocomplete="tel">
        <mat-error class="error-message" *ngIf="checkValidateError('telefon', 'minlength')">zu kurz</mat-error>
        <mat-error class="error-message" *ngIf="checkValidateError('telefon', 'pattern')">unerlaubte Zeichen</mat-error>
      </mat-form-field>
      <div>
        <mat-checkbox class="t30-cb" formControlName="mailingliste">
          Ich möchte auf die ADFC-Mailingliste "Tempo 30 vor sozialen
          Einrichtungen", um Informationen zu erhalten und mich auszutauschen.
        </mat-checkbox>
        <div *ngIf="(registerForm.get('mailingliste').value)">
          <mat-icon>email</mat-icon> Du erhältst eine seperate E-Mail von unserer Mailinglisten-Software, um dich anzumelden.
        </div>
      </div>
      <div>
        <mat-checkbox formControlName="newsletter">
          Ich möchte den Newsletter des ADFC Hamburg bekommen (1 x im Monat,
          gemischte ADFC-Themen).
        </mat-checkbox>
        <div *ngIf="(registerForm.get('newsletter').value)">
          <mat-icon>email</mat-icon> Du erhältst eine seperate E-Mail von unserer Newsletter-Software, um dich anzumelden.
        </div>
      </div>
      <div>
        <mat-checkbox formControlName="speichern">
          Der ADFC Hamburg darf meine Daten für diese Kampagne speichern und
          verwenden und mich kontaktieren.
          Ich stimme der Datenschutzvereinbarung zu.
        </mat-checkbox>
        <div *ngIf="!(registerForm.get('speichern').value)">
          <mat-icon color="warn">warning</mat-icon>
          Wir möchten gerne mit dir gemeinsam Tempo 30 vor sozialen Einrichtungen
          durchsetzen. Das ist nur möglich, wenn wir Kontakt mit dir aufnehmen können.
          Ohne diese Einwilligung kannst du unser Tool nicht benutzen.
        </div>
      </div>

      <mat-action-row>
      <button mat-raised-button color="primary" type="submit" [disabled]="!(registerForm.get('speichern').value)">
        <mat-icon>person_add</mat-icon> Registieren
        </button>
        <button mat-raised-button colort="accent" routerLink="/login"><mat-icon>send</mat-icon>Ich habe mich schon registiert.</button>
    </mat-action-row>
    <mat-spinner *ngIf="loading"> </mat-spinner>
    </div>
</form>
